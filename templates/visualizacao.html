<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <!-- Basic -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <!-- Mobile Metas -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <!-- Site Metas -->
  <meta name="keywords" content="" />
  <meta name="description" content="" />
  <meta name="author" content="" />

  <title>Solicita Senac</title>

  <!-- slider stylesheet -->
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" />
  <!-- bootstrap core css -->
  <link rel="stylesheet" type="text/css" href="../static/css/bootstrap.css" />
  <!-- font awesome style -->
  <link rel="stylesheet" type="text/css" href="../static/css/font-awesome.min.css" />
  <!-- Custom styles for this template -->
  <link href="../static/css/style.css" rel="stylesheet" />
  <!-- responsive style -->
  <link href="../static/css/responsive.css" rel="stylesheet" />
  <!-- favicon -->
  <link href="../static/images/logo5.png" rel="icon" />

  <style>
    .form-row {
      display: flex;
      flex-wrap: wrap;
      margin-bottom: 12px;
    }

    .form-row .form-group {
      flex: 1;
      margin-right: 15px;
    }

    .form-row .form-group:last-child {
      margin-right: 0;
    }

    @media (max-width: 767px) {
      .form-row .form-group {
        margin-right: 0;
        flex: 1 0 100%;
      }
    }

    .btn-submit {
      background-color: #007bff;
      color: #fff;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
    }

    .btn-submit:hover {
      background-color: #0056b3;
    }

    .form-group label {
      color: #007bff;
    }

    .form-group input[type="file"] {
      background-color: #f0f0f0;
    }

    .form-control-file {
      background-color: #f0f0f0;
      border: 1px solid #ccc;
      padding: 10px;
    }

    .form-select {
      margin-bottom: 15px;
      padding: 10px;
      border-radius: 5px;
      border: 1px solid #ccc;
      color: #333;
    }

    .form-select:focus {
      border-color: #007bff;
      box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
    }

    button {
      background-color: #007bff;
      color: #fff;
      border: none;
      padding: 10px 15px;
      font-size: 14px;
      cursor: pointer;
      border-radius: 5px;
      transition: background-color 0.3s, box-shadow 0.3s;
    }

    button:hover {
      background-color: #0056b3;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    button:active {
      background-color: #00408d;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }

    .button-container {
      margin-top: -55px;
      display: flex;
      justify-content: center;
      gap: 12px;
    }

    .form-header {
      margin-top: 22px;
      text-align: center;
    }

    .form-header h2 {
      margin-top: 0;
    }

    .inicial-button {
      position: absolute;
      top: 170px;
      left: 1px;
      background-color: #007bff;
      color: #ffffff;
      border: none;
      border-radius: 5px;
      padding: 5px 15px;
      font-size: 16px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      z-index: 1000;
    }

    .inicial-button a {
      color: #ffffff;
      text-decoration: none;
    }

    .inicial-button:hover {
      background-color: #0056b3;
    }

    .service_section {
      background-color: #d1e3ff;
      padding: 20px;
      border-radius: 8px;
    }
  </style>

</head>

<body>
  <div class="hero_area">
    <!-- header section starts -->
    <header class="header_section">
      <div class="header_top">
        <div class="container-fluid">
          <div class="contact_nav">
            <a href="tel:+558221227858">
              <i class="fa fa-phone" aria-hidden="true"></i>
              <span>Ligue : +55 (82) 2122-7858</span>
            </a>
            <a href="mailto:solicitasenac@gmail.com">
              <i class="fa fa-envelope" aria-hidden="true"></i>
              <span>Email : solicitasenac@gmail.com</span>
            </a>
          </div>
        </div>
      </div>
      <div class="header_bottom sede-header">
        <div class="container-fluid">
          <nav class="navbar navbar-expand-lg custom_nav-container">
            <a class="navbar-brand" href="index.html">
              <img src="../static/images/logo5.png" alt="Logo">
            </a>
          </nav>
        </div>
      </div>
    </header>
    <!-- end header section -->

    <!-- Botão para voltar para a tela inicial -->
    <div class="inicial-button">
      <a href="/pagina_opcoes">
        <i class="fa fa-sign-out"></i> Voltar
      </a>
    </div>

    <!-- Formulário -->
    <section class="service_section layout_padding">
      <div class="container form-container">
        <div class="form-header">
          <h2>Executar Serviço</h2>
        </div>
        <form method="post">
          {% for solicitacao in solicitacoes %}
          <!-- Exibir o ID do serviço -->
          <div class="form-group">
            <h3>ID do Serviço: {{ solicitacao.servicos_id_seq }}</h3>
          </div>
          <input type="hidden" name="solicitacao_ids" value="{{ solicitacao.servicos_id_seq }}">

          <div class="form-group form-row">
            <div class="col-md-6">
              <label for="assunto">Assunto</label>
              <input type="text" class="form-control" id="assunto" name="assunto" placeholder="Digite o assunto" value="{{ solicitacao.assunto }}" readonly>
            </div>
            <div class="col-md-6">
              <label for="funcionario">Funcionário</label>
              <input type="text" class="form-control" id="funcionario" name="funcionario" value="{{ solicitacao.funcionario }}" readonly>
            </div>
          </div>

          <div class="form-group form-row">
            <div class="col-md-6">
              <label for="prazo">Prazo</label>
              <input type="date" class="form-control" id="prazo" name="prazo" value="{{ solicitacao.prazo }}" readonly>
            </div>
            <div class="col-md-6">
              <label for="setor">Setor</label>
              <input type="text" class="form-control" id="setor" name="setor" value="{{ solicitacao.setor }}" readonly>
            </div>
          </div>

          <div class="form-group form-row">
            <div class="col-md-6">
              <label for="nome">Nome do solicitante</label>
              <input type="text" class="form-control" id="nome" name="nome_solicitante" value="{{ solicitacao.nome_solicitante }}" readonly>
            </div>
            <div class="col-md-6">
              <label for="email">E-mail do solicitante</label>
              <input type="email" class="form-control" id="email" name="email_solicitante" value="{{ solicitacao.email_solicitante }}" readonly>
            </div>
          </div>

          <div class="form-group form-row">
            <div class="col-md-6">
              <label for="telefone">Telefone/WhatsApp do solicitante</label>
              <input type="tel" class="form-control" id="telefone" name="telefone" value="{{ solicitacao.telefone }}" readonly>
            </div>
            <div class="col-md-6">
              <label for="unidade">Unidade</label>
              <input type="text" class="form-control" id="unidade" name="unidade" value="{{ solicitacao.unidade }}" readonly>
            </div>
          </div>

          <div class="form-group form-row">
            <div class="col-md-12">
              <label for="informacoes_adicionais">Observações</label>
              <input type="text" class="form-control" id="informacoes_adicionais" name="informacoes_adicionais" value="{{ solicitacao.informacoes_adicionais }}" readonly>
            </div>
          </div>
          

          <div class="form-group form-row">
            <div class="col-md-6">
              <label for="categoria">Categoria</label>
              <select class="form-select" id="categoria" name="categoria" aria-readonly="">
                <option value="" disabled {{ 'selected' if not solicitacao.categoria }}>Não definido</option>
                <option value="Categoria 1" {{ 'selected' if solicitacao.categoria == 'Categoria 1' }}>Categoria 1</option>
                <option value="Categoria 2" {{ 'selected' if solicitacao.categoria == 'Categoria 2' }}>Categoria 2</option>
                <option value="Categoria 3" {{ 'selected' if solicitacao.categoria == 'Categoria 3' }}>Categoria 3</option>
              </select>
            </div>

            <div class="col-md-6">
              <label for="prioridade">Prioridade</label>
              <select class="form-select" id="prioridade" name="prioridade" aria-readonly="">
                <option value="" disabled {{ 'selected' if not solicitacao.prioridade }}>Não definido</option>
                <option value="Prioridade 1" {{ 'selected' if solicitacao.prioridade == 'Prioridade 1' }}>Prioridade 1</option>
                <option value="Prioridade 2" {{ 'selected' if solicitacao.prioridade == 'Prioridade 2' }}>Prioridade 2</option>
                <option value="Prioridade 3" {{ 'selected' if solicitacao.prioridade == 'Prioridade 3' }}>Prioridade 3</option>
              </select>
            </div>
          </div>

          {% if imagem_url %}
          <h3>Imagem do Serviço</h3>
          <img src="{{ imagem_url }}" alt="Imagem do Serviço" class="img-fluid">
          {% else %}
          <p>Imagem não disponível.</p>
          {% endif %}

          <div class="form-button-container">
            <button type="submit" class="btn-submit" name="confirmar">Aceitar</button>
            <br>
            <br>
           <h2 style="font-size: 18px;">OBS: Caso não queira aceitar o serviço, clique no botão voltar.</h2>
          </div>

          {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
          <div class="mt-3">
            {% for category, message in messages %}
            <div class="alert alert-{{ category }}">{{ message }}</div>
            {% endfor %}
          </div>
          {% endif %}
          {% endwith %}
          {% endfor %}
        </form>
      </div>
    </section>

    <!-- info section -->
    <section class="info_section">
      <div class="container">
        <h4>Entre em contato</h4>
        <div class="row">
          <div class="col-lg-10 mx-auto">
            <div class="info_items">
              <div class="row">
                <div class="col-md-4">
                  <a href="https://www.google.com/maps?q=R.+Pedro+Paulino,+77+-+Po%C3%A7o,+Macei%C3%B3+-+AL,+57025-340">
                    <div class="item">
                      <div class="img-box">
                        <i class="fa fa-map-marker" aria-hidden="true"></i>
                      </div>
                      <p>R. Pedro Paulino, 77 - Poço, Maceió - AL, 57025-340</p>
                    </div>
                  </a>
                </div>
                <div class="col-md-4">
                  <a href="tel:+558221227858">
                    <div class="item">
                      <div class="img-box">
                        <i class="fa fa-phone" aria-hidden="true"></i>
                      </div>
                      <p>+55 (82) 2122-7858</p>
                    </div>
                  </a>
                </div>
                <div class="col-md-4">
                  <a href="mailto:solicitasenac@gmail.com">
                    <div class="item">
                      <div class="img-box">
                        <i class="fa fa-envelope" aria-hidden="true"></i>
                      </div>
                      <p>solicitasenac@gmail.com</p>
                    </div>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- end info section -->

    <!-- footer section -->
    <section class="container-fluid footer_section">
      <p>&copy; Todos os direitos reservados</p>
    </section>
    <!-- footer section -->

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- bootstrap js -->
    <script src="../static/js/bootstrap.js"></script>
    <!-- owl carousel -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
    <!-- custom js -->
    <script src="../static/js/custom.js"></script>
    <script>
      document.getElementById('telefone').addEventListener('input', function (e) {
        var x = e.target.value.replace(/\D/g, '').match(/(\d{0,2})(\d{0,5})(\d{0,4})/);
        e.target.value = !x[2] ? x[1] : '(' + x[1] + ') ' + x[2] + (x[3] ? '-' + x[3] : '');
      });
    </script>
  </div>
</body>

</html>
